<?xml version="1.0" encoding="UTF-8" ?>
<templates>


    <t t-name="ks_account_report_lines">
        <style>
            /* Professional CA Tabular Grid Styling */
            .ks_tb_table {
            width: 100%;
            border-collapse: collapse !important;
            border: 2px solid #4a7ab0 !important;
            background-color: #ffffff;
            }
            .ks_tb_table th, .ks_tb_table td {
            border: 1px solid #ced4da !important;
            vertical-align: middle;
            padding: 8px 12px;
            font-size: 13px;
            color: #333333;
            }
            .ks_tb_table thead tr.ks_report_lines_row th {
            background-color: #2d5b8c !important;
            color: #ffffff !important;
            text-transform: uppercase;
            font-size: 13px;
            font-weight: bold;
            padding: 12px 15px;
            text-align: center;
            }
            .ks_tb_table tbody tr { background-color: #ffffff; }
            .ks_tb_table tbody tr:nth-child(even) { background-color: #f8f9fa !important; }
            .ks_tb_table tbody tr:hover { background-color: #e9ecef !important; }

            .ks_amt {
            text-align: right !important;
            font-variant-numeric: tabular-nums;
            font-family: "SFMono-Regular", Menlo, Monaco, Consolas, monospace;
            font-size: 15px !important;
            font-weight: 600 !important;
            color: #000000 !important;
            }

            .ks_badge {
            background-color: #e2e8f0;
            color: #475569;
            padding: 4px 10px;
            border-radius: 6px;
            font-size: 11px;
            font-weight: 700;
            text-transform: uppercase;
            display: inline-block;
            }
        </style>

        <div class="container-fluid my-4">
            <table id="data-bs-lines" class="ks_tb_table" cellspacing="0" width="100%">
                <thead class="ks_thead">
                    <tr class="ks_report_lines_row">
                        <th colspan="1" style="text-align: left;">Account Details</th>
                        <t t-if="ks_report_lines.length > 0 and ks_report_lines[0]['is_bs']">
                            <th class="text-right" colspan="1">
                                <span>Initial Balance</span>
                            </th>
                        </t>
                        <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                            <th class="text-right" colspan="1">
                                <span>Debit</span>
                            </th>
                            <th class="text-right" colspan="1">
                                <span>Credit</span>
                            </th>
                        </t>
                        <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity']">
                            <t t-foreach="ks_report_lines[0]['balance_cmp']" t-as="current_interval">
                                <th class="text-right" colspan="1">
                                    <span>
                                        <t t-esc="current_interval.split('comp_bal_')[1]"/>
                                    </span>
                                </th>
                            </t>
                        </t>
                        <th class="text-right" colspan="1">
                            <span>Balance</span>
                        </th>
                        <th class="text-center" colspan="1">Main Group</th>
                        <th class="text-center" colspan="1">Sub Group</th>
                        <th class="text-center" colspan="1">Sub Sub Group</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="ks_report_lines" t-as="a">
                        <t t-if="a['is_spacer']">
                            <tr style="height: 15px; border: none; background-color: #ffffff !important;">
                                <td colspan="100%" style="border: none !important;"></td>
                            </tr>
                        </t>
                        <t t-else="">
                            <t t-if="!a['account']">
                                <t t-set="style"
                                   t-value="'font-weight:bold; background-color: #e2e6eb !important;'"/>
                            </t>
                            <t t-if="a['account']">
                                <t t-set="style" t-value="'font-weight:normal;'"/>
                            </t>

                            <tr t-att-style="style" t-attf-class="ks_py-mline ks_level_{{a['ks_level']}}">
                                <td t-att-data-bs-account-id="a['account']">
                                    <t t-if="a['account']">
                                        <div class="dropdown">
                                            <a data-bs-toggle="dropdown" href="#"
                                               style="color: #333333; text-decoration: none;">
                                                <span t-att-data-bs-account-id="a['account']">
                                                    <span t-esc="a['ks_name']"/>
                                                </span>
                                            </a>
                                            <ul class="dropdown-menu p-2" role="menu">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_show_df_journal_items"
                                                       t-att-data-bs-account-id="a['account']">Journal Items
                                                    </a>
                                                </li>
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="1"
                                                       action="ks_show_df_general_ledger"
                                                       t-att-data-bs-account-id="a['account']">General Ledger
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </t>
                                    <t t-else="">
                                        <div>
                                            <span t-esc="a['ks_name']"/>
                                        </div>
                                    </t>
                                </td>

                                <t t-if="a['is_bs']">
                                    <td class="ks_amt text-right">
                                        <span t-raw="a['initial_balance_formatted']"/>
                                    </td>
                                </t>

                                <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                    <td class="ks_amt text-right">
                                        <span t-raw="a['debit']"/>
                                    </td>
                                    <td class="ks_amt text-right">
                                        <span t-raw="a['credit']"/>
                                    </td>
                                </t>

                                <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity']">
                                    <t t-foreach="a['balance_cmp']" t-as="current_interval">
                                        <td class="ks_amt text-right">
                                            <span t-raw="a['balance_cmp'][current_interval]"/>
                                        </td>
                                    </t>
                                </t>

                                <td class="ks_amt text-right">
                                    <t t-raw="a['balance']"/>
                                </td>

                                <td class="text-center">
                                    <t t-if="a['account'] and a['main_group']">
                                        <span class="ks_badge" t-esc="a['main_group']"/>
                                    </t>
                                </td>
                                <td class="text-center">
                                    <t t-if="a['account'] and a['sub_group']">
                                        <span class="ks_badge" t-esc="a['sub_group']"/>
                                    </t>
                                </td>
                                <td class="text-center">
                                    <t t-if="a['account'] and a['sub_sub_group']">
                                        <span class="ks_badge" t-esc="a['sub_sub_group']"/>
                                    </t>
                                </td>
                            </tr>
                        </t>
                    </t>
                </tbody>
            </table>
        </div>
    </t>


    <t t-name="ks_executive_summary_lines">
        <div class="container-fluid  my-4">
            <table id="data-bs-lines" class="table ks_table_executive" cellspacing="0" width="100%">
                <thead class="ks_thead">
                    <tr>
                        <th colspan="1"></th>
                        <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                            <th class="" colspan="1">
                                <span>Debit9</span>
                            </th>
                            <th class="" colspan="1">
                                <span>Credit</span>
                            </th>
                        </t>

                        <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity'] and ks_df_report_opt['ks_differ']['ks_intervals']">
                            <th class="" colspan="1">
                                <span>
                                    <t t-esc="ks_df_report_opt['date']['ks_string']"/>
                                </span>
                            </th>
                            <t t-foreach="ks_df_report_opt['ks_differ']['ks_intervals']" t-as="current_interval">
                                <th class="" colspan="1">
                                    <span>
                                        <t t-esc="current_interval['ks_string']"/>
                                    </span>
                                </th>
                            </t>
                        </t>
                        <t t-else="">
                            <th class="" colspan="1">
                                <span>Balance</span>
                            </th>
                        </t>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="ks_report_lines" t-as="a">
                        <t t-if="! a['account']">
                            <t t-set="style" t-value="''"/>
                        </t>
                        <t t-if="a['account']">
                            <t t-set="style" t-value="''"/>
                        </t>
                        <t t-if="a['ks_level'] == 0">
                            <t t-set="style_td" t-value="style + ''"/>
                        </t>
                        <t t-if="a['ks_level'] == 1">
                            <t t-set="style_td"
                               t-value="style + ''"/>
                        </t>
                        <t t-if="a['ks_level'] != 0 and a['ks_level'] != 1">
                            <t t-set="style_td" t-value="style + ''"/>
                        </t>
                        <tr t-att-style="style"
                            t-attf-class="ks_py-mline ks_level_{{a['ks_level']}} row-toggle">
                            <td t-att-data-bs-account-id="a['account']" t-att-style="style_td">
                                <div class="dropdown">
                                    <t t-if="a['list_len']">
                                        <t t-foreach="a['list_len']" t-as="i">
                                            <span>&amp;nbsp;</span>
                                            <span>&amp;nbsp;</span>
                                        </t>
                                    </t>

                                    <t t-if="a['ks_df_report_account_type'] == 'account_report' and (a['account_type'] == 'ks_coa_type')">
                                        <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                           title="Unfolded"/>
                                    </t>
                                    <a>
                                        <span t-att-data-bs-account-id="a['account']">
                                            <span t-att-style="style" t-esc="a['ks_name']"/>
                                        </span>
                                        <t t-if="a['account']">
                                            <i class="fa fa-caret-right" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </t>
                                    </a>
                                    <span t-att-data-bs-account-id="a['account']"/>
                                    <ul class="dropdown-menu p-2" role="menu">
                                        <t t-if="a['account']">
                                            <li role="presentation">
                                                <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                   action="ks_show_df_journal_items"
                                                   t-att-data-bs-account-id="a['account']">
                                                    Journal Items
                                                </a>
                                            </li>
                                            <li role="presentation">
                                                <a role="menuitem" class="ks_view-source" tabindex="1"
                                                   action="ks_show_df_general_ledger"
                                                   t-att-data-bs-account-id="a['account']">
                                                    General Ledger
                                                </a>
                                            </li>
                                        </t>
                                    </ul>
                                </div>
                            </td>

                            <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                <t t-if="a['debit']">
                                    <t t-foreach="a['debit']" t-as="current_interval">
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span t-raw="a['debit'][current_interval]"/>
                                        </td>
                                    </t>
                                </t>
                                <t t-else="">
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span>-</span>
                                    </td>
                                </t>
                                <t t-if="a['credit']">
                                    <t t-foreach="a['credit']" t-as="current_interval">
                                        <td t-att-style="style_td" class="ks_amt">
                                            <span t-raw="a['credit'][current_interval]"/>
                                        </td>
                                    </t>
                                </t>
                                <t t-else="">
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span>-</span>
                                    </td>
                                </t>
                            </t>
                            <t t-if="a['balance']">
                                <t t-if="a['balance']" t-foreach="a['balance']" t-as="current_interval">
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span t-raw="a['balance'][current_interval]"/>
                                    </td>
                                </t>
                            </t>
                            <t t-else="">
                                <td t-att-style="style_td" class="ks_amt">
                                    <span>-</span>
                                </td>
                            </t>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="ks_tax_report_lines">
        <div class="container-fluid  my-4">
            <table id="data-bs-lines" class="table ks_table_tax_report " cellspacing="0" width="100%">
                <thead class="ks_thead">
                    <tr>
                        <th colspan="1"></th>
                        <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">

                            <th class="" colspan="1">
                                <span>Net Amount</span>
                            </th>
                            <th class="" colspan="1">
                                <span>Tax</span>
                            </th>
                        </t>

                        <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity'] and ks_df_report_opt['ks_differ']['ks_intervals']">

                            <th class="" colspan="1">
                                <span>Net Amount
                                    <br></br>
                                    <t t-esc="ks_df_report_opt['date']['ks_string']"/>
                                </span>

                            </th>
                            <th class="" colspan="1">
                                <span>Net tax
                                    <br></br>
                                    <t t-esc="ks_df_report_opt['date']['ks_string']"/>
                                </span>
                            </th>
                            <t t-foreach="ks_df_report_opt['ks_differ']['ks_intervals']" t-as="current_interval">
                                <th class="" colspan="1">
                                    <span>Net Amount
                                        <br></br>
                                        <t t-esc="current_interval['ks_string']"/>
                                    </span>
                                </th>
                                <th class="" colspan="1">
                                    <span>Net tax
                                        <br></br>
                                        <t t-esc="current_interval['ks_string']"/>
                                    </span>
                                </th>
                            </t>
                        </t>
                    </tr>
                </thead>
                <tbody class="border rounded">
                    <t t-foreach="ks_report_lines" t-as="a">
                        <t t-if="! a['account']">
                            <t t-set="style" t-value="''"/>
                        </t>
                        <t t-if="a['account']">
                            <t t-set="style" t-value="''"/>
                        </t>
                        <t t-if="a['ks_level'] == 0">
                            <t t-set="style_td" t-value="style + ''"/>
                        </t>
                        <t t-if="a['ks_level'] == 1">
                            <t t-set="style_td"
                               t-value="style + ''"/>
                        </t>
                        <t t-if="a['ks_level'] != 0 and a['ks_level'] != 1">
                            <t t-set="style_td" t-value="style + ''"/>
                        </t>
                        <tr
                                t-att-style="style"
                                t-attf-class="ks_py-mline row-toggle a{{a['parent']}}">
                            <td t-att-data-bs-account-id="a['account']" t-att-style="style_td">
                                <div class="dropdown">
                                    <t t-if="a['list_len']">
                                        <t t-foreach="a['list_len']" t-as="i">
                                            <span>&amp;nbsp;</span>
                                            <span>&amp;nbsp;</span>
                                        </t>
                                    </t>

                                    <t t-if="a['ks_df_report_account_type'] == 'account_report' and (a['account_type'] == 'ks_coa_type')">
                                        <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                           title="Unfolded"/>
                                    </t>
                                    <a>
                                        <span t-att-data-bs-account-id="a['account']">
                                            <span t-att-style="style" t-esc="a['ks_name']"/>
                                        </span>
                                        <t t-if="a['account']">
                                            <i class="fa fa-caret-right" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </t>
                                    </a>
                                    <span t-att-data-bs-account-id="a['account']"/>
                                    <ul class="dropdown-menu p-2" role="menu">
                                        <t t-if="a['account']">
                                            <li role="presentation">
                                                <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                   action="ks_show_df_journal_items"
                                                   t-att-data-bs-account-id="a['account']">
                                                    Journal Items
                                                </a>
                                            </li>
                                            <li role="presentation">
                                                <a role="menuitem" class="ks_view-source" tabindex="1"
                                                   action="ks_show_df_general_ledger"
                                                   t-att-data-bs-account-id="a['account']">
                                                    General Ledger
                                                </a>
                                            </li>
                                        </t>
                                    </ul>
                                </div>
                            </td>
                            <t t-if="ks_df_report_opt['ks_diff_filter']['ks_debit_credit_visibility']">
                                <td t-att-style="style_td" class="ks_amt">
                                    <span t-raw="a['ks_net_amount']"/>
                                </td>
                                <td t-att-style="style_td" class="ks_amt">
                                    <t t-att-style="style_td" t-raw="a['tax']"/>
                                </td>
                            </t>

                            <t t-if="ks_df_report_opt['ks_diff_filter']['ks_diff_filter_enablity']">
                                <t t-foreach="a['balance_cmp']" t-as="cn">
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span t-raw="cn[0]['ks_com_net']"/>
                                        <!--                                        <t t-esc="cn['ks_com_net']"/>-->
                                    </td>
                                    <td t-att-style="style_td" class="ks_amt">
                                        <span t-raw="cn[1]['ks_com_tax']"/>
                                        <!--                                        <t t-esc="cn['ks_com_tax']"/>-->
                                    </td>
                                </t>
                            </t>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="ks_account_report_summary_section">
        <div class="row ks-data-bs-summary">
            <!--            <t t-if="ks_initial_balance or ks_current_balance or ks_ending_balance">-->
            <div class="col-8"/>
            <div class="col-4">
                <table>
                    <tr>
                        <td>Initial Cash Balance</td>
                        <td>
                            <t t-raw="ks_initial_balance"/>
                        </td>
                    </tr>
                    <tr>
                        <td>Current Cash Balance</td>
                        <td>
                            <t t-raw="ks_current_balance"/>
                        </td>
                    </tr>
                    <tr>
                        <td>Net Cash Balance</td>
                        <td>
                            <t t-raw="ks_ending_balance"/>
                        </td>
                    </tr>
                </table>
            </div>
            <!--            </t>-->
        </div>

    </t>

    <t t-name="ks_df_gl">
        <div class="container-fluid my-4">
            <table id="data-bs-lines" class="table table-hover ks_table_1" cellspacing="0" width="100%"
                   style="background-color: #ffffff; border: 1px solid #ced4da; box-shadow: 0 4px 6px rgba(0,0,0,0.05); border-radius: 4px; border-collapse: collapse;">

                <thead class="ks_thead">
                    <tr style="background-color: #2d5b8c; color: #ffffff; text-transform: uppercase; font-size: 12px; font-weight: 600; letter-spacing: 0.5px;">
                        <th colspan="3"
                            style="padding: 12px 15px; vertical-align: middle; border-right: 1px solid #4a7ab0;">Code
                        </th>
                        <th colspan="5"
                            style="padding: 12px 15px; vertical-align: middle; border-right: 1px solid #4a7ab0;">Account
                        </th>
                        <t t-if="ks_enable_ledger_in_bal">
                            <th style="padding: 12px 15px; text-align: right; vertical-align: middle; border-right: 1px solid #4a7ab0; white-space: nowrap;">
                                Initial Balance
                            </th>
                        </t>
                        <th style="padding: 12px 15px; text-align: right; vertical-align: middle; border-right: 1px solid #4a7ab0; white-space: nowrap;">
                            Debit
                        </th>
                        <th style="padding: 12px 15px; text-align: right; vertical-align: middle; border-right: 1px solid #4a7ab0; white-space: nowrap;">
                            Credit
                        </th>
                        <th style="padding: 12px 15px; text-align: right; vertical-align: middle; border-right: 1px solid #4a7ab0; white-space: nowrap;">
                            Balance
                        </th>
                        <th style="padding: 12px 15px; text-align: center; vertical-align: middle; border-right: 1px solid #4a7ab0;">
                            Main Group
                        </th>
                        <th style="padding: 12px 15px; text-align: center; vertical-align: middle; border-right: 1px solid #4a7ab0;">
                            Sub Group
                        </th>
                        <th style="padding: 12px 15px; text-align: center; vertical-align: middle; border-right: 1px solid #4a7ab0;">
                            Sub Sub Group
                        </th>
                        <th style="padding: 12px 15px; border-bottom: none;"></th>
                    </tr>
                </thead>

                <tbody>
                    <t t-foreach="ks_report_lines" t-as="account">
                        <t t-set="common_id" t-value=""/>

                        <tr style="background-color: #f8f9fa; border-bottom: 1px solid #dee2e6; cursor: pointer;"
                            class="ks_py-mline ks_row_first"
                            data-bs-toggle="collapse"
                            t-att-data-bs-account-id="ks_report_lines[account]['id']"
                            t-attf-data-bs-target=".a{{ks_report_lines[account]['id']}}"
                            onmouseover="this.style.backgroundColor='#edf2f7';"
                            onmouseout="this.style.backgroundColor='#f8f9fa';">

                            <td colspan="3"
                                style="padding: 12px 15px; vertical-align: middle; color: #2d5b8c; font-weight: 600; font-size: 14px; border-right: 1px solid #dee2e6; white-space: nowrap;">
                                <div style="display: flex; align-items: center; gap: 8px;">
                                    <i class="fa fa-caret-down" role="img" aria-label="Unfolded" title="Unfolded"
                                       style="color: #6c757d; font-size: 1.1em;"></i>
                                    <span t-esc="ks_report_lines[account]['code']"/>
                                </div>
                            </td>

                            <td colspan="5"
                                style="padding: 12px 15px; vertical-align: middle; font-weight: 700; color: #333333; font-size: 14px; border-right: 1px solid #dee2e6;">
                                <span>
                                    <t t-esc="ks_report_lines[account]['name']"/>
                                </span>
                            </td>

                            <t t-if="ks_enable_ledger_in_bal">
                                <td colspan="1" class="ks_amt"
                                    style="padding: 12px 15px; vertical-align: middle; text-align: right; font-size: 14px; color: #555555; border-right: 1px solid #dee2e6; white-space: nowrap;">
                                    <t t-raw="ks_report_lines[account]['initial_balance']"/>
                                </td>
                            </t>

                            <td colspan="1" class="ks_amt"
                                style="padding: 12px 15px; vertical-align: middle; text-align: right; font-size: 14px; color: #555555; border-right: 1px solid #dee2e6; white-space: nowrap;">
                                <t t-raw="ks_report_lines[account]['debit']"/>
                            </td>

                            <td colspan="1" class="ks_amt"
                                style="padding: 12px 15px; vertical-align: middle; text-align: right; font-size: 14px; color: #555555; border-right: 1px solid #dee2e6; white-space: nowrap;">
                                <t t-raw="ks_report_lines[account]['credit']"/>
                            </td>

                            <td colspan="1" class="ks_amt"
                                style="padding: 12px 15px; vertical-align: middle; text-align: right; font-weight: 800; color: #111827; font-size: 14px; border-right: 1px solid #dee2e6; white-space: nowrap;">
                                <t t-raw="ks_report_lines[account]['balance']"/>
                            </td>

                            <td colspan="1" class="ks_name"
                                style="padding: 12px 15px; vertical-align: middle; text-align: center; border-right: 1px solid #dee2e6;">
                                <span t-esc="ks_report_lines[account]['main_group']"
                                      style="background-color: #e2e8f0; color: #475569; padding: 4px 10px; border-radius: 6px; font-size: 11px; font-weight: 700; text-transform: uppercase;"/>
                            </td>

                            <td colspan="1" class="ks_name"
                                style="padding: 12px 15px; vertical-align: middle; text-align: center; border-right: 1px solid #dee2e6;">
                                <span t-esc="ks_report_lines[account]['sub_group']"
                                      style="color: #64748b; font-size: 12px; font-weight: 500;"/>
                            </td>

                            <td colspan="1" class="ks_name"
                                style="padding: 12px 15px; vertical-align: middle; text-align: center; border-right: 1px solid #dee2e6;">
                                <span t-esc="ks_report_lines[account]['sub_sub_group']"
                                      style="color: #64748b; font-size: 12px; font-weight: 500;"/>
                            </td>

                            <td colspan="1" class="ks_amt" style="padding: 12px 15px; vertical-align: middle;"></td>

                            <t t-set="common_id" t-value="'a'+ks_report_lines[account]['id']"/>
                        </tr>

                        <tr t-attf-class="collapse a{{ks_report_lines[account]['id']}}">
                            <td class="p-0" colspan="15" style="border-bottom: 3px solid #2d5b8c;">

                                <t t-if="!ks_report_lines[account]['single_page'] and ks_report_lines[account]['pages'] and ks_report_lines[account]['pages'].length != 1">
                                    <div style="background-color: #ffffff; padding: 10px 15px; border-bottom: 1px solid #eee;">
                                        <span style="font-size: 12px; font-weight: bold; color: #666; margin-right: 10px;">
                                            Pages:
                                        </span>
                                        <ul class="ks_py-mline-ul m-0"
                                            style="list-style-type: none; display: inline-flex; gap: 8px; padding: 0; align-items: center;">
                                            <t t-foreach="ks_report_lines[account]['pages']" t-as="i">
                                                <li>
                                                    <a class="ks_py-mline-page"
                                                       style="cursor: pointer; padding: 4px 12px; border: 1px solid #ced4da; border-radius: 4px; color: #2d5b8c; font-weight: 600; font-size: 13px; text-decoration: none; background-color: #f8f9fa;"
                                                       t-att-data-bs-page-number="i"
                                                       t-att-data-bs-count="ks_report_lines[account]['count']"
                                                       t-att-data-bs-account-id="ks_report_lines[account]['id']"
                                                       onmouseover="this.style.backgroundColor='#2d5b8c'; this.style.color='#ffffff';"
                                                       onmouseout="this.style.backgroundColor='#f8f9fa'; this.style.color='#2d5b8c';">
                                                        <t t-esc="i"/>
                                                    </a>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                </t>
                                <t t-else="">
                                    <ul class="ks_py-mline-ul" style="display: none;"></ul>
                                </t>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="ks_df_pl0">
        <div class="container-fluid my-3">
            <table id="data-bs-lines" class="table ks_table_1 ks_table_6 border" cellspacing="0" width="100%">
                <thead class="ks_thead">
                    <tr>
                        <th colspan="6">Partner</th>
                        <t t-if="ks_enable_ledger_in_bal">
                            <th>Initial Balance</th>
                        </t>
                        <th class="">Debit</th>
                        <th class="">Credit</th>
                        <th class="">Balance</th>
                        <th class=""></th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="ks_report_lines" t-as="account">
                        <t t-set="common_id" t-value=""/>
                        <tr class="ks_pl-py-mline" data-bs-toggle="collapse"
                            t-att-data-bs-account-id="ks_report_lines[account]['id']"
                            t-attf-data-bs-target=".a{{ks_report_lines[account]['id']}}">

                            <td colspan="6">
                                <i class="fa fa-caret-down" role="img" aria-label="Unfolded" title="Unfolded"></i>
                                <span>
                                    <t t-esc="ks_report_lines[account]['name']"/>
                                </span>
                            </td>
                            <t t-if="ks_enable_ledger_in_bal">
                                <td class="ks_amt">
                                    <t t-raw="ks_report_lines[account]['initial_balance']"/>
                                </td>
                            </t>
                            <td class="ks_amt">
                                <t t-raw="ks_report_lines[account]['debit']"/>
                            </td>
                            <td class="ks_amt">
                                <t t-raw="ks_report_lines[account]['credit']"/>
                            </td>
                            <td class="ks_amt">
                                <t t-raw="ks_report_lines[account]['balance']"/>
                            </td>
                            <td class="ks_amt"></td>

                            <t t-set="common_id" t-value="'a'+ks_report_lines[account]['id']"/>

                        </tr>
                        <tr t-attf-class="collapse a{{ks_report_lines[account]['id']}}">
                            <td colspan="12" class="p-0">
                                <ul class="ks_py-mline-ul">
                                    <t t-if="!ks_report_lines[account]['single_page']">
                                        <t t-foreach="ks_report_lines[account]['pages']" t-as="i">
                                            <li>
                                                <a class="ks_py-mline-page"
                                                   t-att-data-bs-page-number="i"
                                                   t-att-data-bs-count="ks_report_lines[account]['count']"
                                                   t-att-data-bs-account-id="ks_report_lines[account]['id']">
                                                    <t t-esc="i"/>
                                                </a>
                                            </li>
                                        </t>
                                    </t>
                                </ul>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="ks_df_sub_pl0">
        <div class="ks_py-mline-table-div ">
            <table class="table">
                <thead class="ks_thead">
                    <tr>
                        <th>Date</th>
                        <th>JRNL</th>
                        <th>Account</th>
                        <th>Move</th>

                        <th>Entry Label</th>
                        <t t-if="ks_enable_ledger_in_bal">
                            <th class="">Initial Balance</th>
                        </t>

                        <th class="">Debit</th>
                        <th class="">Credit</th>
                        <th class="">Balance</th>
                        <th width="10%" class="">Balance in FC</th>
                        <!--                        <th>Status</th>-->

                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="account_data" t-as="account_line">
                        <t t-set="style" t-value="''"/>
                        <t t-if="account_line.move_name == 'Initial Balance'">
                            <t t-set="style" t-value="'font-style: italic;'"/>
                        </t>
                        <t t-if="account_line.move_name == 'Ending Balance'">
                            <t t-set="style" t-value="'font-style: italic;'"/>
                        </t>
                        <tr>
                            <td t-att-data-bs-move-id="account_line.move_id">
                                <t t-if="account_line.ldate">
                                    <div class="dropdown">
                                        <a data-bs-toggle="dropdown" href="#">
                                            <span t-att-data-bs-move-id="account_line.move_id">
                                                <t t-esc="account_line.ldate"/>
                                            </span>
                                            <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                               title="Unfolded"/>
                                        </a>
                                        <span t-att-data-bs-move-id="account_line.move_id"/>
                                        <ul class="dropdown-menu p-2" role="menu">
                                            <t t-if="account_line.move_name">
                                                <li role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_df_show_move_line"
                                                       t-att-data-bs-move-id="account_line.move_id">
                                                        Move Line
                                                    </a>
                                                </li>
                                            </t>
                                        </ul>
                                    </div>
                                </t>
                            </td>
                            <td>
                                <t t-esc="account_line.lcode"/>
                            </td>
                            <td>
                                <t t-esc="account_line.account_name"/>
                            </td>
                            <td t-att-style="style">
                                <t t-esc="account_line.move_name"/>
                            </td>

                            <td t-att-style="style">
                                <t t-esc="account_line.lname"/>
                            </td>
                            <t t-if="ks_enable_ledger_in_bal">
                                <td t-att-style="style" class="ks_amt">
                                    <t t-raw="account_line.initial_balance"/>
                                </td>
                            </t>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.debit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.credit"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-raw="account_line.balance"/>
                            </td>
                            <td t-att-style="style" class="ks_amt">
                                <t t-if="account_line['currency_symbol'] != account_line['company_currency_symbol']">
                                    <t t-if="account_line['currency_position'] == 'before'">
                                        <span t-esc="account_line['currency_symbol']"/>
                                        <span t-esc="account_line['amount_currency']"/>
                                    </t>
                                    <t t-if="account_line['currency_position'] == 'after'">
                                        <span t-esc="account_line['amount_currency']"/>
                                        <span t-esc="account_line['currency_symbol']"/>
                                    </t>
                                </t>
                            </td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>


    <t t-name="ks_df_gl_subsection">
        <div class="ks_py-mline-table-div">
            <t t-set="is_bank_acc"
               t-value="account_data and account_data.length > 0 and account_data[0]['is_bank_account']"/>

            <table class="table ks_table_2" id="general_ledger_table"
                   style="border-collapse: collapse; width: 100%; border: 2px solid #555555;">

                <thead class="ks_thead"
                       style="background-color: #2d5b8c; color: #ffffff; border-bottom: 3px solid #1a3654; font-size: 14px;">
                    <tr>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Date
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Journal
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Voucher
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Accounts
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Debit
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Credit
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Balance
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Status
                        </th>
                        <th class="text-center" style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">
                            Reference / Narration
                        </th>
                        <t t-if="is_bank_acc">
                            <th class="text-center"
                                style="border: 1px solid #4a7ab0; padding: 12px; text-align: center;">BRS Status
                            </th>
                        </t>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="account_data" t-as="account_line">

                        <t t-if="account_line['initial_bal']">
                            <tr style="background-color: #e2e6eb; font-weight: bold; color: #000000;">
                                <td style="border: 1px solid #7a7a7a; padding: 8px;"></td>
                                <td style="border: 1px solid #7a7a7a; padding: 8px;"></td>
                                <td style="border: 1px solid #7a7a7a; padding: 8px;"></td>
                                <td style="white-space: nowrap; text-align: right; vertical-align: middle; padding-right: 20px; border: 1px solid #7a7a7a; padding: 8px;">
                                    Initial Balance
                                </td>
                                <td class="ks_amt"
                                    style="white-space: nowrap; border: 1px solid #7a7a7a; padding: 8px;"></td>
                                <td class="ks_amt"
                                    style="white-space: nowrap; border: 1px solid #7a7a7a; padding: 8px;"></td>
                                <td class="ks_amt"
                                    style="white-space: nowrap; border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-raw="account_line.balance"/>
                                </td>
                                <td style="border: 1px solid #7a7a7a; padding: 8px;"></td>
                                <td style="border: 1px solid #7a7a7a; padding: 8px;"></td>
                                <t t-if="is_bank_acc">
                                    <td style="border: 1px solid #7a7a7a; padding: 8px;"></td>
                                </t>
                            </tr>
                        </t>

                        <t t-else="">
                            <tr style="background-color: #ffffff;"
                                t-att-data-move-id="account_line.move_id or account_line.mmove_id"
                                t-att-data-account-id="account_line.account_id">

                                <td style="border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-if="account_line.ldate">
                                        <div class="dropdown">
                                            <a data-bs-toggle="dropdown" href="#"
                                               class="text-decoration-none text-dark fw-bold">
                                                <span t-att-data-bs-move-id="account_line.move_id">
                                                    <t t-esc="account_line.ldate"/>
                                                </span>
                                                <i class="fa fa-caret-down ms-1"/>
                                            </a>
                                            <ul class="dropdown-menu p-2" role="menu">
                                                <li t-if="account_line.move_name" role="presentation">
                                                    <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                       action="ks_df_show_move_line"
                                                       t-att-data-bs-move-id="account_line.move_id">
                                                        Move Line
                                                    </a>
                                                </li>
                                            </ul>
                                        </div>
                                    </t>
                                </td>

                                <td style="border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-esc="account_line.lcode"/>
                                </td>

                                <td style="border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-esc="account_line.move_name"/>
                                </td>

                                <td class="all-accounts-cell"
                                    style="white-space: nowrap; border: 1px solid #7a7a7a; padding: 8px;">
                                    <span style="color: #555555; font-size: 0.9em;">Loading...</span>
                                </td>

                                <td class="ks_amt"
                                    style="white-space: nowrap; border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-raw="account_line.debit"/>
                                </td>

                                <td class="ks_amt"
                                    style="white-space: nowrap; border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-raw="account_line.credit"/>
                                </td>

                                <td class="ks_amt"
                                    style="white-space: nowrap; border: 1px solid #7a7a7a; padding: 8px; font-weight: 500;">
                                    <t t-raw="account_line.balance"/>
                                </td>

                                <td style="border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-esc="account_line.move_state"/>
                                </td>

                                <td style="border: 1px solid #7a7a7a; padding: 8px;">
                                    <t t-if="account_line.lref and account_line.lname and account_line.lref != account_line.lname">
                                        <span style="font-weight: 500;" t-esc="account_line.lref"/>
                                        <br/>
                                        <span style="color: #555555; font-size: 0.9em;" t-esc="account_line.lname"/>
                                    </t>
                                    <t t-elif="account_line.lref">
                                        <span style="font-weight: 500;" t-esc="account_line.lref"/>
                                    </t>
                                    <t t-elif="account_line.lname">
                                        <span style="color: #555555;" t-esc="account_line.lname"/>
                                    </t>
                                </td>

                                <t t-if="is_bank_acc">
                                    <td style="border: 1px solid #7a7a7a; padding: 8px;">
                                        <t t-if="account_line.is_brs_cleared">
                                            <span style="color: #198754; font-weight: bold;">Cleared</span>
                                        </t>
                                        <t t-else="">
                                            <span style="color: #fd7e14; font-weight: bold;">Pending</span>
                                        </t>
                                    </td>
                                </t>

                            </tr>
                        </t>
                    </t>
                </tbody>
            </table>
        </div>
    </t>

    <t t-name="ks_df_rec0">
        <div class="container-fluid  my-4">
            <table id="data-bs-lines" class="table ks-data-bs-table-age border" cellspacing="0" width="100%">
                <thead class="ks_thead">
                    <tr>
                        <th colspan="4">Partners</th>
                        <t t-foreach="ks_period_list" t-as="period">
                            <th class="">
                                <t t-esc="period"/>
                            </th>
                        </t>
                        <th class="">Total</th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="ks_partner_dict" t-as="partner">
                        <t t-if="partner != 'Total'">
                            <t t-set="common_id" t-value=""/>
                            <tr class="ks-mline ks_pr-py-mline" data-bs-toggle="collapse"
                                t-att-data-bs-partner-id="partner"
                                t-attf-data-bs-target=".a{{partner}}">
                                <td colspan="4">
                                    <i class="fa fa-caret-right" role="img" aria-label="Unfolded" title="Unfolded"></i>
                                    <span>
                                        <t t-esc="ks_partner_dict[partner]['partner_name']"/>
                                    </span>
                                </td>
                                <t t-foreach="ks_period_list" t-as="period">
                                    <td class="ks_amt">
                                        <t t-raw="ks_partner_dict[partner][period]"/>
                                    </td>
                                </t>
                                <td class="ks_amt">
                                    <t t-raw="ks_partner_dict[partner]['total']"/>
                                </td>
                                <t t-set="common_id" t-value="'a'+partner"/>
                            </tr>
                            <tr t-attf-class="collapse a{{partner}}">
                                <td colspan="12">
                                    <ul class="ks_py-mline-ul">
                                        <t t-if="!ks_partner_dict[partner]['single_page']">
                                            <t t-foreach="ks_partner_dict[partner]['pages']" t-as="i">
                                                <li>
                                                    <a class="ks_py-mline-page"
                                                       t-att-data-bs-page-number="i"
                                                       t-att-data-bs-count="ks_partner_dict[partner]['count']"
                                                       t-att-data-bs-partner-id="partner">
                                                        <t t-esc="i"/>
                                                    </a>
                                                </li>
                                            </t>
                                        </t>
                                    </ul>
                                </td>
                            </tr>
                        </t>
                        <t t-else="">
                            <tr class="ks-total-line">
                                <td colspan="4" align="left">
                                    <span>Total</span>
                                </td>
                                <t t-foreach="ks_period_list" t-as="period">
                                    <td class="ks_amt">
                                        <t t-raw="ks_partner_dict[partner][period]"/>
                                    </td>
                                </t>
                                <td class="ks_amt">
                                    <t t-raw="ks_partner_dict[partner]['total']"/>
                                </td>
                            </tr>
                        </t>
                    </t>
                </tbody>
            </table>
        </div>
    </t>
    <t t-name="ks_df_sub_receivable0">
        <div class="ks_py-mline-table-div">
            <table class="table">
                <thead class="ks_thead">
                    <tr>
                        <th>Entry Label</th>
                        <th>Due Date</th>
                        <th>Journal</th>
                        <th>Account</th>
                        <t t-foreach="period_list" t-as="period">
                            <th class="">
                                <t t-esc="period"/>
                            </th>
                        </t>
                    </tr>
                </thead>
                <tbody>
                    <t t-if="account_data">
                        <t t-foreach="account_data" t-as="account_line">
                            <tr t-att-data-bs-move-id="account_line.move_id">
                                <t t-if="account_line.move_name">
                                    <td>
                                        <div class="dropdown">
                                            <a data-bs-toggle="dropdown" href="#">
                                                <span t-att-data-bs-move-id="account_line.move_id">
                                                    <t t-esc="account_line.move_name"/>
                                                </span>
                                                <i class="fa fa-caret-down" role="img" aria-label="Unfolded"
                                                   title="Unfolded"></i>
                                            </a>
                                            <span t-att-data-bs-move-id="account_line.move_id"></span>
                                            <ul class="dropdown-menu" role="menu">
                                                <t t-if="account_line.move_name">
                                                    <li role="presentation">
                                                        <a role="menuitem" class="ks_view-source" tabindex="-1"
                                                           action="ks_df_show_move_line"
                                                           t-att-data-bs-move-id="account_line.move_id">
                                                            Move line
                                                        </a>
                                                    </li>
                                                </t>
                                            </ul>
                                        </div>
                                    </td>
                                </t>
                                <td>
                                    <t t-esc="account_line.date_maturity"/>
                                </td>
                                <td>
                                    <t t-esc="account_line.journal_name"/>
                                </td>
                                <td>
                                    <t t-esc="account_line.account_name"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_0"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_1"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_2"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_3"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_4"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_5"/>
                                </td>
                                <td class="ks_amt">
                                    <t t-raw="account_line.range_6"/>
                                </td>
                            </tr>
                        </t>
                    </t>
                </tbody>
            </table>
        </div>
    </t>


    <t t-name="ks_df_trial_balance">
        <style>
            /* Strict Tabular Grid Styling for Clear Visibility */
            .ks_tb_table {
            width: 100%;
            border-collapse: collapse !important;
            border: 2px solid #4a7ab0 !important;
            background-color: #ffffff;
            }

            /* Solid grid lines for every cell */
            .ks_tb_table th,
            .ks_tb_table td {
            border: 1px solid #ced4da !important;
            vertical-align: middle;
            }

            /* Thick vertical lines to separate major sections clearly */
            .ks_section_divider {
            border-right: 2px solid #2d5b8c !important;
            }

            /* Main Group Headers (Dark Blue) */
            .ks_tb_table thead tr.ks_group_row th {
            background-color: #2d5b8c !important;
            color: #ffffff !important;
            text-transform: uppercase;
            font-size: 13px;
            font-weight: bold;
            padding: 12px 15px;
            text-align: center;
            }

            /* Sub Headers (High Contrast Light Blue/Grey) */
            .ks_tb_table thead tr.ks_sub_header_row th {
            background-color: #e2e6eb !important;
            color: #1a3654 !important;
            font-size: 13px;
            font-weight: 700;
            padding: 10px 15px;
            text-align: center;
            }

            /* Alternating Row Colors for easy tracking */
            .ks_tb_table tbody tr {
            background-color: #ffffff;
            }
            .ks_tb_table tbody tr:nth-child(even) {
            background-color: #f8f9fa !important;
            }
            .ks_tb_table tbody tr:hover {
            background-color: #e9ecef !important;
            }

            /* Standardized Padding &amp; Typography */
            .ks_tb_table tbody td {
            padding: 8px 12px;
            font-size: 13px;
            color: #333333;
            }

            /* AMOUNTS STYLING: Increased Font Size, Weight, and Contrast */
            .ks_amt {
            text-align: right !important;
            font-variant-numeric: tabular-nums;
            font-family: "SFMono-Regular", Menlo, Monaco, Consolas, "Courier New", monospace;
            font-size: 15px !important; /* Increased for clear visibility */
            font-weight: 600 !important; /* Semi-bold for easier reading */
            color: #000000 !important; /* Pure black */
            }

            /* High-Visibility Subtotal Row */
            .ks_subtotal_row td {
            background-color: #d1e3f8 !important;
            color: #000000 !important;
            font-weight: 900 !important;
            font-size: 14px !important;
            border-top: 2px solid #2d5b8c !important;
            border-bottom: 2px solid #2d5b8c !important;
            }

            /* Crisp Badges for Sub groups */
            .ks_badge {
            background-color: #dee2e6;
            color: #212529;
            padding: 4px 8px;
            border-radius: 4px;
            font-size: 11px;
            font-weight: bold;
            display: inline-block;
            }
        </style>

        <div class="container-fluid my-4">
            <table id="data-bs-lines" class="ks_tb_table" cellspacing="0" width="100%">
                <thead class="ks_thead">
                    <tr class="ks_group_row">
                        <th colspan="2" class="ks_section_divider">
                            <span>Accounts</span>
                        </th>
                        <th colspan="2" class="ks_section_divider">
                            <span>Initial Balance</span>
                        </th>
                        <th colspan="2" class="ks_section_divider">
                            <span>
                                <t t-esc="ks_df_new_start_report_opt"/>
                                to
                                <t t-esc="ks_df_new_end_report_opt"/>
                            </span>
                        </th>
                        <th colspan="2" class="ks_section_divider">
                            <span>Ending Balance</span>
                        </th>
                        <th colspan="3">
                            <span>Account Groups</span>
                        </th>
                    </tr>

                    <tr class="ks_sub_header_row">
                        <th>Account Code</th>
                        <th class="ks_section_divider">Account Name</th>

                        <th>Debit</th>
                        <th class="ks_section_divider">Credit</th>

                        <th>Debit</th>
                        <th class="ks_section_divider">Credit</th>

                        <th>Debit</th>
                        <th class="ks_section_divider">Credit</th>

                        <th>Main Group</th>
                        <th>Sub Group</th>
                        <th>Sub Sub Group</th>
                    </tr>
                </thead>

                <tbody>
                    <t t-foreach="account_data" t-as="acc">
                        <tr>
                            <td style="font-weight: bold; color: #2d5b8c;">
                                <t t-esc="account_data[acc]['code']"/>
                            </td>

                            <td class="ks_section_divider" style="font-weight: 600;">
                                <div class="dropdown">
                                    <a data-bs-toggle="dropdown" href="#"
                                       style="color: #333333; text-decoration: none;">
                                        <span t-att-data-bs-account-id="account_data[acc]['id']">
                                            <t t-esc="account_data[acc]['name']"/>
                                        </span>
                                        <i class="fa fa-angle-down ms-1" style="color: #6c757d;"></i>
                                    </a>
                                    <ul class="dropdown-menu p-2 shadow-sm border-1">
                                        <li>
                                            <a class="ks_view-source dropdown-item"
                                               action="ks_show_df_journal_items"
                                               t-att-data-bs-account-id="account_data[acc]['id']">
                                                Journal Items
                                            </a>
                                        </li>
                                        <li>
                                            <a class="ks_view-source dropdown-item"
                                               action="ks_show_df_general_ledger"
                                               t-att-data-bs-account-id="account_data[acc]['id']">
                                                General Ledger
                                            </a>
                                        </li>
                                    </ul>
                                </div>
                            </td>

                            <td class="ks_amt">
                                <t t-raw="account_data[acc]['initial_debit']"/>
                            </td>

                            <td class="ks_amt ks_section_divider">
                                <t t-raw="account_data[acc]['initial_credit']"/>
                            </td>

                            <td class="ks_amt">
                                <t t-raw="account_data[acc]['debit']"/>
                            </td>

                            <td class="ks_amt ks_section_divider">
                                <t t-raw="account_data[acc]['credit']"/>
                            </td>

                            <td class="ks_amt" style="font-weight: 900 !important; font-size: 16px !important;">
                                <t t-raw="account_data[acc]['ending_debit']"/>
                            </td>

                            <td class="ks_amt ks_section_divider"
                                style="font-weight: 900 !important; font-size: 16px !important;">
                                <t t-raw="account_data[acc]['ending_credit']"/>
                            </td>

                            <td class="text-center">
                                <t t-if="account_data[acc]['main_type']">
                                    <span class="ks_badge">
                                        <t t-esc="account_data[acc]['main_type']"/>
                                    </span>
                                </t>
                            </td>

                            <td class="text-center">
                                <t t-if="account_data[acc]['account_type']">
                                    <span class="ks_badge">
                                        <t t-esc="account_data[acc]['account_type']"/>
                                    </span>
                                </t>
                            </td>

                            <td class="text-center">
                                <t t-if="account_data[acc]['sub_type']">
                                    <span class="ks_badge">
                                        <t t-esc="account_data[acc]['sub_type']"/>
                                    </span>
                                </t>
                            </td>
                        </tr>
                    </t>

                    <t t-foreach="subtotal" t-as="account">
                        <tr class="ks_subtotal_row">
                            <td colspan="2" class="ks_section_divider text-right text-uppercase"
                                style="padding-right: 15px;">
                                <t t-esc="subtotal[account]['name']"/>
                            </td>

                            <td class="ks_amt" style="font-size: 16px !important;">
                                <t t-raw="subtotal[account]['initial_debit']"/>
                            </td>
                            <td class="ks_amt ks_section_divider" style="font-size: 16px !important;">
                                <t t-raw="subtotal[account]['initial_credit']"/>
                            </td>
                            <td class="ks_amt" style="font-size: 16px !important;">
                                <t t-raw="subtotal[account]['debit']"/>
                            </td>
                            <td class="ks_amt ks_section_divider" style="font-size: 16px !important;">
                                <t t-raw="subtotal[account]['credit']"/>
                            </td>
                            <td class="ks_amt" style="font-size: 17px !important;">
                                <t t-raw="subtotal[account]['ending_debit']"/>
                            </td>
                            <td class="ks_amt ks_section_divider" style="font-size: 17px !important;">
                                <t t-raw="subtotal[account]['ending_credit']"/>
                            </td>
                            <td colspan="3"></td>
                        </tr>
                    </t>
                </tbody>
            </table>
        </div>
    </t>


    <t t-name="ks_df_cj0">
        <div class="container-fluid my-3">
            <table id="data-bs-lines" class="table ks_table_cj0" cellspacing="0" width="100%">
                <thead class="ks_thead">
                    <tr>
                        <th colspan="8">Journal (code)</th>
                        <th class="">Debit</th>
                        <th class="">Credit</th>
                        <th class="">Balance</th>
                        <th class=""></th>
                    </tr>
                </thead>
                <tbody>
                    <t t-foreach="ks_report_lines" t-as="account">
                        <t t-if="account['id'] != 'total' and account['name']!='Details Per Month'">
                            <t t-set="common_id" t-value=""/>
                            <tr class="ks_cj-py-mline" data-bs-toggle="collapse"
                                t-att-data-bs-journal-id="account['id']"